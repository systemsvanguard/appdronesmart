<div *ngIf="viewMode; else editable">
  <div *ngIf="currentDrone.id">
    <h4 class="text-primary text-center">Details of Drone</h4>
    <br />

    <div>
      <img src="{{currentDrone.amazon_image}}" class="rounded mx-auto d-block" style="max-width:50%;" alt="{{currentDrone.title}}"  title="{{currentDrone.title}}" />
    </div>

    <div>
      <label><strong>Name: </strong></label> {{ currentDrone.title }}
    </div>

    <div>
      <label><strong>Price : </strong></label> <span class="text-success fst-italic fw-bold">{{ currentDrone.price  | currency}}</span>   |
      <label><strong>Rating : </strong> {{ currentDrone.rating }} of 5 stars. </label>
    </div>

    <div>
      <label><strong>Synopsis:</strong></label>
      {{ currentDrone.synopsis }}
    </div>

    <div>
      <label><strong>Vendor: </strong></label> {{ currentDrone.brand }} |
      <label><strong>Units : </strong>{{ currentDrone.stockqnty }} units in stock </label>  <br />
      <label><strong>AMZ link & ASIN ID : </strong> <a href="{{currentDrone.amazon_url}}" target="_blank"> Amazon Permalink - {{currentDrone.asinid}} </a>  </label>  <br />
    </div>

    <div>
      <label><strong>Status:</strong></label>
      {{ currentDrone.published ? "Published" : "Pending" }}
    </div>

    <div>
      <label><strong>Description:</strong></label>
      {{ currentDrone.description }}
    </div>
    <br />
		<a
		  routerLink="/drones/{{ currentDrone.id }}"
		  class="btn btn-primary"
		>
		  <i class="bi bi-pencil-fill text-light"></i>
		  Edit
		</a>
    <br /><br />
  </div>

  <div *ngIf="!currentDrone">
    <br />
    <p>Please click on a Drone ...</p>
  </div>
</div>

<ng-template #editable>
  <div *ngIf="currentDrone.id" class="edit-form">
    <h4>Drone</h4>
    <form>
      <div class="form-group">
        <label for="title">Title</label>
        <input
          type="text"
          class="form-control"
          id="title"
          [(ngModel)]="currentDrone.title"
          name="title"
        />
      </div>



      <div class="form-group">
        <label for="brand">Brand</label>
        <input
          type="text"
          class="form-control"
          id="brand"
          [(ngModel)]="currentDrone.brand"
          name="brand"
        />
      </div>
	    <div class="form-group">
        <label for="price">Price</label>
        <input
          type="text"
          class="form-control"
          id="price"
          [(ngModel)]="currentDrone.price"
          name="price"
        />
      </div>
	    <div class="form-group">
        <label for="asinid">Amazon ASIN ID</label>
        <input
          type="text"
          class="form-control"
          id="asinid"
          [(ngModel)]="currentDrone.asinid"
          name="asinid"
        />
      </div>
	    <div class="form-group">
        <label for="rating">Rating</label>
        <input
          type="text"
          class="form-control"
          id="rating"
          [(ngModel)]="currentDrone.rating"
          name="rating"
        />
      </div>
	    <div class="form-group">
        <label for="stockqnty">Stock Qnty</label>
        <input
          type="text"
          class="form-control"
          id="stockqnty"
          [(ngModel)]="currentDrone.stockqnty"
          name="stockqnty"
        />
      </div>
	    <div class="form-group">
        <label for="amazon_image">Amazon Image</label>
        <input
          type="text"
          class="form-control"
          id="amazon_image"
          [(ngModel)]="currentDrone.amazon_image"
          name="amazon_image"
        />
      </div>
	    <div class="form-group">
        <label for="amazon_url">Amazon URL</label>
        <input
          type="text"
          class="form-control"
          id="amazon_url"
          [(ngModel)]="currentDrone.amazon_url"
          name="amazon_url"
        />
      </div>
	    <div class="form-group">
        <label for="synopsis">Synopsis</label>
        <input
          type="text"
          class="form-control"
          id="synopsis"
          [(ngModel)]="currentDrone.synopsis"
          name="synopsis"
        />
      </div>



      <div class="form-group">
        <label for="description">Description</label>
        <input
          type="text"
          class="form-control"
          id="description"
          [(ngModel)]="currentDrone.description"
          name="description"
        />
      </div>

      <div class="form-group">
        <label><strong>Status:</strong></label>
        {{ currentDrone.published ? "Published" : "Pending" }}
      </div>
    </form>
	<br />

    <!------------------------------------->
	<button
      class="btn btn-info mx-2"
      *ngIf="currentDrone.published"
      (click)="updatePublished(false)"
    >
      <i class="bi arrow-counterclockwise text-light"></i> UnPublish
    </button>
    <button  
	  type="button" 
      class="btn btn-primary mx-2" 
	  *ngIf="!currentDrone.published" 
      (click)="updatePublished(true)"
    >
      <i class="bi bi-printer-fill text-light"></i> Publish
    </button>

    <button 
	  type="button" 
	  class="btn btn-danger mx-2" 
	  (click)="deleteDrone()"
	>
      <i class="bi bi-eraser-fill text-light"></i> Delete
    </button>

    <button
      type="submit"
      class="btn btn-success mx-2"
      (click)="updateDrone()"
    >
      <i class="bi bi-pen-fill text-light"></i> Update
    </button>
	
	<a
	  routerLink="/"
	  class="btn btn-secondary mx-2"
	>
	  <i class="bi bi-house text-light"></i>
	  Home
	</a>	
	<!------------------------------------->
    <p>{{ message }}</p>
	
	<br /><br />
  </div>

  <div *ngIf="!currentDrone.id">
    <br />
    <p>Cannot access this Drone ...</p>
  </div>
</ng-template>
